# 评分标准快速参考

## 学生组与职工组对比

| 项目 | 学生组 | 职工组 |
|-----|-------|-------|
| **应用场景** | EAN/UPC条码数量识别 | 服装尺码规格识别 |
| **图像尺寸** | 80×80 | 96×96 (预处理) / 32×96 (模型输入) |
| **Task1重点** | 拉普拉斯锐化、高斯滤波、闭运算、垂直镜像 | 双边滤波、均值滤波、开运算、旋转 |
| **Task2模型** | BarcodeCNN (分类模型) | SizeCRNN (序列识别模型) |
| **模型架构** | 深度可分离卷积 + 全连接 | CNN + 注意力 + BiLSTM + CTC |
| **类别数** | 1000类 (条码数量1-1000) | 43类 (字符集大小+blank) |
| **评价指标** | val_acc (准确率) | val_ap (平均精度) |
| **Task4图表** | 柱状图(Accuracy) + 折线图(Loss) | 折线图(Accuracy) + 折线图(Loss) |

---

## 总分分配 (两组相同)

```
┌─────────────────────────────────────┐
│         总分: 100分                  │
├─────────────────────────────────────┤
│ Task 1: 图像预处理        20分      │
│ Task 2: 模型训练          30分      │
│ Task 3: GUI应用           35分      │
│ Task 4: 训练可视化        15分      │
└─────────────────────────────────────┘
```

---

## 各Task详细分数分配

### Task 1: 图像预处理 (20分)

| TODO | 描述 | 学生组分值 | 职工组分值 |
|------|-----|-----------|-----------|
| 1 | 导入库 | 2分 | 2分 |
| 2 | 直方图绘制 | 3分 | 3分 |
| 3 | 图像锐化/去噪 | 2分 | 2分 |
| 4 | 图像滤波 | 2分 | 2分 |
| 5 | 分辨率统一 | 2分 | 2分 |
| 6 | 形态学运算 | 3分 | 3分 |
| 7 | 数据增强 | 6分 | 6分 |

**关键点**:
- 学生组: 80×80尺寸、拉普拉斯锐化、闭运算、垂直翻转
- 职工组: 96×96尺寸、双边滤波、开运算、15度旋转

---

### Task 2: 模型训练 (30分)

| TODO | 描述 | 学生组分值 | 职工组分值 |
|------|-----|-----------|-----------|
| 1 | Dataset.__init__ | 4分 | 4分 |
| 2 | Dataset.__len__ | 2分 | 2分 |
| 3 | Dataset.__getitem__ | 3分 | 3分 |
| 4 | 模型架构搭建 | 8分 | 8分 |
| 5 | 前向传播 | 6分 | 6分 |
| 6 | 训练循环 | 5分 | 5分 |
| 7 | 模型保存 | 2分 | 2分 |

**关键点**:
- 学生组: CNN分类模型，通道数16→32→64→128
- 职工组: CRNN序列模型，通道数32→64→128→256，双向LSTM输出维度128*2

---

### Task 3: GUI应用 (35分)

| TODO | 描述 | 学生组分值 | 职工组分值 |
|------|-----|-----------|-----------|
| 1 | 打开文件对话框 | 4分 | 4分 |
| 2 | 显示图片预览 | 4分 | 4分 |
| 3 | 检查上传状态 | 2分 | 2分 |
| 4 | 调用预处理 | 2分 | 2分 |
| 5 | 显示识别结果 | 2分 | 2分 |
| 6 | 选择文件夹 | 2分 | 2分 |
| 7 | 批量识别遍历 | 2分 | 2分 |
| 8 | 保存CSV | 4分 | 4分 |
| 9 | 完成提示 | 2分 | 2分 |
| 10 | 创建图片显示区 | 2分 | 2分 |
| 11 | 创建结果显示区 | 2分 | 2分 |
| 12 | 创建上传按钮 | 3分 | 3分 |
| 13 | 创建识别按钮 | 3分 | 3分 |
| 14 | 创建批量按钮 | 3分 | 3分 |

**关键点**:
- 两组GUI结构相同，只是识别逻辑不同
- 学生组: 条码数量验证、CSV列名包含valid
- 职工组: 尺码文本解码、CSV列名为filename和size

---

### Task 4: 训练可视化 (15分)

| TODO | 描述 | 学生组分值 | 职工组分值 |
|------|-----|-----------|-----------|
| 1 | 导入库 | 2分 | 2分 |
| 2 | 读取CSV | 2分 | 2分 |
| 3 | 绘制图表 | 3分 | 3分 |
| 4 | 设置标题 | 2分 | 2分 |
| 5 | 设置坐标轴 | 4分 | 4分 |
| 6 | 显示图形 | 2分 | 2分 |

**关键点**:
- 学生组: 柱状图(plt.bar) + val_acc
- 职工组: 折线图(plt.plot) + val_ap

---

## 高频易错点

### 🔴 严重错误 (0分)

```python
# 1. Dataset长度返回错误
return self.samples  # ❌ 应该返回 len(self.samples)

# 2. 双向LSTM输出维度错误（职工组）
self.fc = nn.Linear(128, nclass)  # ❌ 应该是 128*2

# 3. 函数名完全错误
plt.display()  # ❌ 应该是 plt.show()

# 4. 导入错误的库
import math as np  # ❌ 应该是 import numpy as np
```

---

### 🟡 常见错误 (部分分)

```python
# 1. 参数数量或值不完全正确 (给60%-80%)
cv2.GaussianBlur(img, (3,3), 0)  # 核大小应该是(5,5) 但方法正确

# 2. 使用替代方法 (给80%-100%)
img.flatten()  # 替代 img.ravel()，功能等效

# 3. 拼写错误但意图明确 (给50%)
filedialog.askopenfile()  # 应该是 askopenfilename，但意图明确

# 4. 缺少部分参数 (给60%-80%)
cv2.morphologyEx(gray, cv2.MORPH_CLOSE)  # 缺少kernel参数
```

---

### 🟢 可接受的变体 (满分)

```python
# 1. 字符串格式化方法
f"{prefix}_hist.png"           # ✓
str(prefix) + "_hist.png"      # ✓
"{}_hist.png".format(prefix)   # ✓

# 2. 引号类型
"filename"  # ✓
'filename'  # ✓

# 3. 空白字符处理
line.rstrip("\n")  # ✓
line.rstrip()      # ✓
line.strip()       # ✓

# 4. 数组展平
img.ravel()    # ✓
img.flatten()  # ✓
```

---

## 评分等级参考

| 总分范围 | 等级 | 说明 |
|---------|------|------|
| 90-100 | 优秀 | 代码规范，逻辑清晰，基本无错误 |
| 80-89 | 良好 | 主要功能完成，有少量错误 |
| 70-79 | 中等 | 核心功能实现，但有多处错误 |
| 60-69 | 及格 | 部分功能实现，错误较多 |
| <60 | 不及格 | 大量错误或功能严重不完整 |

---

## 各Task及格线参考

| Task | 满分 | 及格线(60%) | 说明 |
|------|------|------------|------|
| Task 1 | 20分 | 12分 | 能完成基本的图像处理和保存 |
| Task 2 | 30分 | 18分 | Dataset类实现正确，模型架构基本合理 |
| Task 3 | 35分 | 21分 | GUI能显示，基本功能可用 |
| Task 4 | 15分 | 9分 | 能读取数据并绘制图表 |

---

## 关键技术点检查清单

### ✅ Task 1检查项
- [ ] 库导入正确 (numpy, matplotlib.pyplot)
- [ ] 图像读取和尺寸调整正确
- [ ] 直方图绘制参数正确
- [ ] 图像处理函数调用正确（锐化/去噪、滤波）
- [ ] 形态学运算类型和参数正确
- [ ] 数据增强操作正确（翻转/旋转）
- [ ] 文件保存路径和命名规范正确

---

### ✅ Task 2检查项
- [ ] Dataset三个方法实现正确
- [ ] 数据读取和解析正确
- [ ] 模型架构通道数配置合理
- [ ] 前向传播流程完整
- [ ] 训练循环epoch范围正确
- [ ] 模型保存方法正确
- [ ] CSV日志生成正确

---

### ✅ Task 3检查项
- [ ] 文件对话框调用正确
- [ ] 图片预览功能实现
- [ ] 模型加载和推理正确
- [ ] GUI组件创建完整
- [ ] 事件绑定正确
- [ ] 批量处理逻辑正确
- [ ] CSV结果保存正确

---

### ✅ Task 4检查项
- [ ] pandas和matplotlib导入正确
- [ ] CSV读取正确
- [ ] 图表类型正确（柱状图/折线图）
- [ ] 数据列名正确（val_acc/val_ap）
- [ ] 图表标题和标签设置正确
- [ ] 图形显示调用正确

---

## 快速评分示例

### 案例1: 优秀作品 (92分)

**得分情况**:
- Task 1: 19/20 (形态学kernel参数缺失 -1)
- Task 2: 28/30 (训练循环范围错误 -2)
- Task 3: 33/35 (批量识别文件类型过滤不完整 -2)
- Task 4: 12/15 (图表标题拼写错误 -2, 坐标轴标签缺失 -1)

**评语**: 代码整体质量高，核心功能完整，细节处理到位。

---

### 案例2: 中等作品 (73分)

**得分情况**:
- Task 1: 15/20 (直方图参数错误 -2, 锐化函数参数缺失 -2, 文件命名错误 -1)
- Task 2: 22/30 (模型通道数配置错误 -3, 前向传播缺少dropout -1, Dataset返回值错误 -4)
- Task 3: 26/35 (GUI按钮文本错误 -3, 识别结果显示格式错误 -2, CSV列名错误 -2, 事件绑定缺失 -2)
- Task 4: 10/15 (图表类型错误 -3, 数据列名错误 -2)

**评语**: 基本框架正确，但多处细节错误，需加强对API的理解。

---

### 案例3: 较差作品 (48分)

**得分情况**:
- Task 1: 10/20 (多处函数调用错误，参数缺失严重)
- Task 2: 12/30 (模型架构错误，Dataset实现不完整)
- Task 3: 18/35 (GUI组件缺失，功能严重不完整)
- Task 4: 8/15 (图表绘制参数错误，显示调用缺失)

**评语**: 基础知识薄弱，建议重新学习相关库的使用。

---

## 使用建议

1. **批量评分**: 使用大模型评分使用指南中的prompt模板
2. **人工复查**: 对边界分数(59, 79, 89)进行抽查
3. **争议处理**: 创新解法需要人工判断是否给分
4. **质量控制**: 建议10%-20%人工复核率

---

## 更新日志

- **2025-01-22**: 初始版本创建
- 后续更新将记录在此
